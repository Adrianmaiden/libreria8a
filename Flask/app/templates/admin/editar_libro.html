{% extends "base.html" %}

{% block content %}
<head>
    <meta charset="UTF-8">
    <title>Editar Libro</title>
    <link rel="stylesheet" href="{{ url_for('main.static', filename='css/bootstrap.min.css') }}">
</head>
<body>
    <div class="container">
        <h1>Editar Libro</h1>
        <form action="{{ url_for('admin.editar_libro', id=libro.id_libro) }}" method="POST">
            <div class="form-group">
                <label>Título</label>
                <input type="text" class="form-control" name="titulo" value="{{ libro.titulo }}" required>
            </div>
            <div class="form-group">
                <label>Autor</label>
                <input type="text" class="form-control" name="autor" value="{{ libro.autor }}" required>
            </div>
            <div class="form-group">
                <label>Editorial</label>
                <input type="text" class="form-control" name="editorial" value="{{ libro.editorial }}" required>
            </div>
            <div class="form-group">
                <label>Año de Publicación</label>
                <input type="number" class="form-control" name="anio_publicacion" value="{{ libro.anio_publicacion }}" required>
            </div>            
            <div class="form-group">
                <label>Precio</label>
                <input type="number" class="form-control" name="precio" value="{{ libro.precio }}" step="0.01" required>
            </div>
            <div class="form-group">
                <label>Stock</label>
                <input type="number" class="form-control" name="stock" value="{{ libro.stock_disponible }}" required>
            </div>
            Copiar
            <div class="form-group">
                <label>Categoría</label>
                <select class="form-control" name="id_categoria">
                    <option value="">Selecciona una categoría existente o crea una nueva</option>
                    {% for categoria in categorias %}
                        <option value="{{ categoria.id_categoria }}" {% if categoria.id_categoria == libro.id_categoria %}selected{% endif %}>
                            {{ categoria.nombre_categoria }}
                        </option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label>Nueva Categoría</label>
                <input type="text" class="form-control" name="nueva_categoria" placeholder="Ingresa una nueva categoría">
            </div>
            <div class="form-group">
                <label>Portada del Libro</label>
                <input type="file" class="form-control" name="portada" accept="image/*">
            </div>
            <button type="submit" class="btn btn-primary">Guardar Cambios</button>
        </form>
    </div>
{% endblock %}
